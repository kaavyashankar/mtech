{"version":3,"sources":["backend.js","core/helper/carthelper.js","auth/helper/index.js","auth/helper/PrivateRoutes.js","core/Menu.js","core/Base.js","core/helper/imagehelper.js","core/Card.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","core/PaymentB.js","core/helper/paymenthelper.js","core/helper/orderhelper.js","core/Cart.js","user/UserDashboard.js","Routes.js","serviceWorkerRegistration.js","index.js"],"names":["API","process","cartEmpty","next","undefined","window","localStorage","removeItem","setItem","JSON","stringify","isAuthenticated","getItem","parse","signout","userId","user","id","console","log","fetch","method","then","response","catch","err","PrivateRoutes","Component","component","rest","render","props","to","pathname","state","from","location","currentTab","history","path","color","withRouter","className","style","onClick","push","Base","title","description","children","ImageHelper","product","imageurl","image","src","maxHeight","maxWidth","alt","Card","addtoCart","removeFromCart","reload","setReload","f","useState","redirect","setRedirect","cartTitle","name","cartDescription","cartPrice","price","getAredirect","addToCart","showAddToCart","item","cart","addItemToCart","productId","map","i","_id","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","error","setError","loadAllProducts","json","data","useEffect","index","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","e","display","onChange","type","Signin","loading","didRedirect","formData","FormData","append","keys","key","signin","token","authenticate","performRedirect","PaymentB","clientToken","instance","info","setInfo","getToken","getmeToken","getAmount","amount","p","parseInt","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","paymentInfo","processPayment","code","product_names","forEach","orderData","transaction_id","transaction","createOrder","length","options","authorization","onInstance","Cart","loadCart","UserDashboard","Routes","exact","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","document","getElementById","URL","href","origin","addEventListener","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.da2229bd.chunk.js","sourcesContent":["export const API= process.env.REACT_APP_BACKEND;\n","export const addItemToCart = (item, next) => {\n    let cart = []\n    if (typeof window != undefined) {\n        if (localStorage.getItem(\"cart\")){\n            cart = JSON.parse(localStorage.getItem(\"cart\"))\n        }\n\n        cart.push({\n            ...item\n        });\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        next();\n        \n    }\n};\n\nexport const loadCart = () => {\n    if (typeof window !== undefined) {\n        return JSON.parse(localStorage.getItem(\"cart\"))\n    }\n}\n\nexport const removeItemFromCart = productId => {\n    let cart = []\n    if (typeof window!== undefined){\n        if (localStorage.getItem(\"cart\")){\n            cart= JSON.parse(localStorage.getItem(\"cart\"))\n\n        }\n\n        cart.map((product, i) => {\n            if (product._id === productId){\n                cart.splice(i, 1)\n            }\n        });\n        localStorage.setItem(\"cart\",JSON.stringify(cart));\n\n    }\n\n    return cart;\n};\n\nexport const cartEmpty = (next) => {\n    if (typeof window != undefined) {\n        localStorage.removeItem(\"cart\");\n        let cart = [];\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        next();\n    }\n};","import {API} from \"../../backend\";\nimport {cartEmpty} from \"../../core/helper/carthelper\";\n\nexport const signup = (user) => {\n    return fetch(`${API}user/`,{\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n\n        },\n        body: JSON.stringify(user),\n    })\n        .then((response) => {\n            return response.json();\n        })\n\n        .catch((err) => console.log(err));\n};\n\nexport const signin = (user) => {\n    const formData = new FormData();\n\n    for(const name in user){\n        console.log(user[name]);\n        formData.append(name, user[name]);\n\n\n    }\n\n    for (var key of formData.keys()) {\n        console.log(\"MYKEY:\",key);\n    }\n\n    return fetch(`${API}user/login/`,{\n        method:\"POST\",\n        body: formData,\n    })\n        .then((response) => {\n            console.log(\"SUCCESS\", response);\n            return response.json();\n    })\n        .catch(err => console.log(err));\n\n\n};\n\nexport const authenticate = (data, next)=> {\n    if (typeof window !== undefined){\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\n        next();\n    }\n\n\n\n\n};\n\n\n\nexport const isAuthenticated = () => {\n    if(typeof window == undefined){\n        return false\n    }\n    if (localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"));\n\n    } else {\n        return false;\n    }\n    \n};\n\nexport const signout = (next) => {\n    const userId = isAuthenticated() && isAuthenticated().user.id;\n    console.log(\"USERID:\" ,userId);\n\n    if(typeof window !== undefined){\n        localStorage.removeItem(\"jwt\");\n        cartEmpty(()=> {});\n        next();\n\n        return fetch(`${API}user/logout/${userId}`,{\n            method:\"GET\"\n        })\n        .then(response => {\n\n            console.log(\"Signout success\");\n            next();\n        })\n        .catch((err) => console.log(err))\n    }\n\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React   from 'react'\nimport {Route, Redirect} from \"react-router-dom\"\n\nimport {isAuthenticated} from \"./index\";\nconst PrivateRoutes = ({ component: Component, ...rest })=> {\n    return (\n        <Route\n          {...rest}\n          render={(props) =>\n            isAuthenticated()\n              ? (\n                <Component {...props} />\n              ) \n              : (\n                <Redirect\n                  to={{\n                    pathname: \"/signin\",\n                    state: { from: props.location },\n                   }}\n                />\n              )}\n        />\n      );\n    }\n    \n        \n\nexport default PrivateRoutes;\n","import React,{Fragment} from 'react';\nimport {Link, withRouter} from \"react-router-dom\";\n\nimport {signout, isAuthenticated} from \"../auth/helper\";\n\nconst currentTab = (history, path) => {\n    if (history.location.pathname === path) {\n        return {color: \"#2ecc72\"}\n    }  else {\n        return {color: \"#FFFFFF\"};\n    }\n};\n\nconst Menu = ({history, path}) => {\n    return (\n        <div>\n            <ul className=\"nav nav-labs bg-dark\">\n                <li className = \"nav-item\">\n                    <Link  style= {currentTab(history,\"/\")}\n                    className= \"nav-link\" \n                    to = \"/\"\n                >\n                    Home</Link>\n                </li>\n                \n\n\n                \n\n                {isAuthenticated () && (\n                    <li className = \"nav-item\">\n                    <Link  style= {currentTab(history,\"/user/dashboard\")}\n                    className= \"nav-link\" \n                    to = \"/user/dashboard\"\n                >\n                    Dashboard</Link>\n                </li>\n                )}\n\n                <li className = \"nav-item\">\n                    <Link  style= {currentTab(history,\"/cart\")}\n                    className= \"nav-link\" \n                    to = \"/cart\"\n                >\n                    Cart</Link>\n                </li>\n\n                {!isAuthenticated() && (\n                    <Fragment>\n                        <li className = \"nav-item\">\n                    <Link  style= {currentTab(history,\"/signup\")}\n                    className= \"nav-link\" \n                    to = \"/signup\"\n                >\n                    Signup</Link>\n                </li>\n\n                <li className = \"nav-item\">\n                    <Link  style= {currentTab(history,\"/signin\")}\n                    className= \"nav-link\" \n                    to = \"Signin/\"\n                >\n                    Signin</Link>\n                </li>\n\n                    </Fragment>\n                )}\n                {isAuthenticated() && (\n                    <li className = \"nav-item\">\n                    <span \n                    onClick={() =>{\n                        signout(() =>{\n                            history.push(\"/\")\n                        });\n                    }}\n                    className = \"nav-link text-warning\">\n                        Signout\n                    </span>\n                    \n                </li>\n                )}\n                \n\n\n            \n\n            </ul>\n\n\n\n        </div>\n    );\n};\n\nexport default withRouter(Menu);","import React from \"react\";\nimport Menu from \"./Menu\";\n\nconst Base = ({\n    title = \"My Title\",\n    description = \"My description\",\n    className = \"bg-dark text-white p-4\",\n    children\n\n}) => {\n    return (\n        <div>\n            <Menu/>\n            <div className=\"container-fluid\">\n                <div className=\"jumbotron bg-dark text-white text-center\">\n                    <h2 className=\"display-4\">{title}</h2>\n                    <p className=\"lead\">{description}</p>\n                </div>\n                <div className={className}>{children}</div>\n            </div>\n            <footer className=\"footer bg-dark mt-auto py-3\">\n                <div className=\"container-fluid bg-success text-white text-center py-3\">\n                    <h4>If you got any questions,reach me out at instagram</h4>\n                    <button className = \"btn btn-warning btn-lg\">Contact Us</button>\n                    <div className=\"container\">\n                        <span className=\"text-warning\">\n                            Shopping is an art\n                        </span>\n                    </div>\n                </div>\n            </footer>\n\n        </div>\n    );\n}\n\nexport default Base;\n","import React from 'react'\n\nconst ImageHelper = ({product}) => {\n    const imageurl = product \n    ? product.image \n    : `https://www.globalblue.com/business/images/article926851.ece/BINARY/TFS_Article_2019_970x643.jpg`\n    return (\n        <div className=\"rounded border border-success p-2\">\n            <img \n             src={imageurl}\n             style={{maxHeight:\"100%\", maxWidth:\"100%\"}}\n             className=\"mb-3 rounded\"\n             alt=\"\"\n            />\n        \n\n        </div>\n    );\n};\n\nexport default ImageHelper","import React ,{useState}from 'react'\nimport ImageHelper from \"./helper/imagehelper\";\nimport {Redirect} from \"react-router-dom\";\nimport {addItemToCart, removeItemFromCart} from \"./helper/carthelper\";\n\nimport {isAuthenticated} from \"../auth/helper\";\n\n\n\n\nconst Card = ({\n  product,\n  addtoCart = true,\n  removeFromCart = false,\n  reload = undefined,\n  setReload = f => f,\n  //function(f){return f}\n}) => {\n\n    const [redirect, setRedirect]= useState(false);\n\n    const cartTitle = product ? product.name : \"A photo from pexeles\"\n    const cartDescription = product ? product.description : \"Default description\"\n    const cartPrice = product ? product.price: \"Default price\"\n\n\n    const addToCart = () => {\n      if (isAuthenticated()) {\n        addItemToCart(product,  () => setRedirect(true));\n        console.log(\"Added to cart\");\n      } else{\n        console.log(\"login Please!\");\n      }\n    };\n    // eslint-disable-next-line\n    const getAredirect = (redirect) => {\n      if (redirect){\n        return <Redirect to=\"/cart\" />;\n      }\n    };\n\n    const showAddToCart = addToCart => {\n      return(\n        addtoCart && (\n          <button\n              onClick={addToCart}\n              className=\"btn btn-block btn-outline-success mt-2 mb-2\"\n            >\n              Add to Cart\n            </button>\n          \n        )\n      );\n    };\n\n    const showRemoveFromCart = removeFromCart => {\n      return(\n        removeFromCart && (\n          <button\n              onClick={() => {\n                removeItemFromCart(product._id);\n                setReload(!reload)\n                console.log(\"Product removed from cart\");\n              }}\n              className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\n            >\n              Remove from cart\n            </button>\n        )\n      )\n    }\n  return (\n    <div className=\"card text-white bg-dark border border-info \">\n      <div className=\"card-header lead\"> {cartTitle}</div>\n      <div className=\"card-body\">\n        {getAredirect(redirect)}\n        <ImageHelper product={product}/>\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\n          {cartDescription}\n        </p>\n        <p className=\"btn btn-success rounded  btn-sm px-4\">₹{cartPrice}</p>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            {showAddToCart(addToCart)}\n          </div>\n          <div className=\"col-12\">\n            {showRemoveFromCart(removeFromCart)}\n            \n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;","import React, { useState, useEffect } from \"react\";\n\nimport { getProducts } from \"./helper/coreapicalls\";\nimport Base from \"./Base\";\n\nimport \"../styles.css\";\nimport Card from \"./Card\";\n\nexport default function Home() {\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(false);\n\n  const loadAllProducts = () => {\n    getProducts()\n      .then((data) => {\n        if (data.error) {\n          setError(data.error);\n          console.log(error);\n        } else {\n          setProducts(data);\n        }\n      });\n  };\n\n  useEffect(() => {\n    loadAllProducts();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Base title=\"Home Page\" description=\"Welcome to K zone\">\n      <h1>Home component</h1>\n      <div className=\"row\">\n        {products.map((product, index) => {\n          return (\n            <div key={index} className=\"col-4 mb-4\">\n              <Card product={product} />\n            </div>\n          );\n        })}\n      </div>\n    </Base>\n  );\n}\n","import {API} from \"../../backend\"\n\nexport const getProducts = () => {\n    return fetch(`${API}product`, {method: \"GET\"})\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => console.log(err))\n}","import React,{useState} from \"react\";\n\nimport Base from  \"../core/Base\";\nimport {Link} from \"react-router-dom\";\nimport {signup} from \"../auth/helper\";\n\nconst Signup = () =>{\n\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password:\"\",\n        error:\"\",\n        success:false,\n    });\n\n    const {name, email, password, error, success} = values;\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]: event.target.value});\n    };\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        setValues({...values, error: false});\n        signup({name, email, password})\n\n          .then(data => {\n            console.log(\"DATA\",data);\n            if(data.email === email){\n                setValues({\n                    ...values,\n                    name:\"\",\n                    email:\"\",\n                    password:\"\",\n                    error: \"\",\n                    success:true\n                })\n\n            }else{\n                setValues({\n                    ...values,\n                    error:true,\n                    success:false\n\n                })\n            }\n        })\n          .catch((e) => console.log(e));\n\n    \n    };\n\n    const successMessage = () => {\n        return(\n            <div className=\"row\">\n                <div className = \"col-md-6 offset-sm-3 text-left\">\n                    <div\n                      className=\"alert alert-success\"\n                      style={{display:success? \" \" :\"none\"}}\n\n                    >\n                        New account created successfully.Please <Link \n                        to =\"/signin\">login now.</Link> \n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n\n    const errorMessage = () => {\n        return(\n            <div className=\"row\">\n                <div className = \"col-md-6 offset-sm-3 text-left\">\n                    <div\n                      className=\"alert alert-danger\"\n                      style={{display:error? \" \" :\"none\"}}\n\n                    >\n                        Check all the fields again!\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n\n    const signUpForm = () => {\n        return(\n            <div className=\"row\">\n                <div className=\"col-md-5 offset-sm-3 text-left\">\n                    <form>\n                    <div className=\"form-group\">\n                            <label className= \"text-Light\"> Name</label>\n                            <input\n                              className=\"form-control\"\n                              value={name}\n                              onChange={handleChange(\"name\")}\n                              type=\"text\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className= \"text-Light\"> Email</label>\n                            <input\n                              className=\"form-control\"\n                              value={email}\n                              onChange={handleChange(\"email\")}\n                              type=\"text\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className= \"text-Light\"> password</label>\n                            <input\n                              className=\"form-control\"\n                              value={password}\n                              onChange={handleChange(\"password\")}\n                              type=\"password\"\n                            />\n                        </div>\n                        <button \n                        onClick={onSubmit}\n                        className=\"btn btn-success btn-block\">Submit</button>\n                    </form>\n                </div>\n\n            </div>\n        );\n    };\n    return (\n        <Base title= \"Sign Up Page\" description = \"A signup for K Zone users\">\n            {successMessage()}\n            {errorMessage()}\n\n            {signUpForm()}\n           <p className = \"text-white text-center\">\n               {JSON.stringify(values)}\n           </p>\n        \n        </Base>\n          \n    );\n};\n\nexport default Signup;\n\n","import React ,{useState}from \"react\";\n\nimport Base from \"../core/Base\";\n\nimport {Link, Redirect} from \"react-router-dom\";\n\nimport {signin, authenticate, isAuthenticated} from \"../auth/helper\";\n\nconst Signin = () => {\n    const [values, setValues] = useState({\n        name:\"\",\n        email:\"\",\n        password:\"\",\n        error:\"\",\n        success:false,\n        loading:false,\n        didRedirect:false\n\n    })\n    const {name, email, password, error, success,loading,didRedirect} = values;\n\nconst handleChange = (name) => (event) => {\n        setValues({...values, error: false, [name]: event.target.value});\n}\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        setValues({...values, error:false, loading:true})\n        signin({email, password})\n\n        .then(data =>{\n            console.log(\"DATA\", data);\n            if (data.token) {\n                //let sessionToken = data.token;\n                authenticate(data, () => {\n                    console.log(\"TOKEN ADDED\");\n                    setValues({\n                        ...values,\n                        didRedirect: true,\n                    });\n                });\n                \n            }else{\n                setValues({\n                    ...values,\n                    loading: false,\n                })\n\n            }\n            \n        })\n        .catch(e => console.log(e));\n    }\n\n    const performRedirect = () => {\n        if (isAuthenticated()) {\n            return <Redirect to = \"/\"/>;\n        }\n    };\n\n    const loadingMessage = () => {\n        return(\n            loading && (\n                <div className = \"alert alert-info\">\n                    <h2> Loading...</h2>\n                </div>\n            )\n        )\n    }\n    const successMessage = () => {\n        return(\n            <div className=\"row\">\n                <div className = \"col-md-6 offset-sm-3 text-left\">\n                    <div\n                      className=\"alert alert-success\"\n                      style={{display:success? \" \" :\"none\"}}\n\n                    >\n                        New account created successfully.Please <Link \n                        to =\"/signin\">login now.</Link> \n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n\n    const errorMessage = () => {\n        return(\n            <div className=\"row\">\n                <div className = \"col-md-6 offset-sm-3 text-left\">\n                    <div\n                      className=\"alert alert-danger\"\n                      style={{display:error? \" \" :\"none\"}}\n\n                    >\n                        Check all the fields again!\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n\n    const signInForm = () => {\n        return(\n            <div className=\"row\">\n                <div className=\"col-md-5 offset-sm-3 text-left\">\n                    <form>\n                    \n                        <div className=\"form-group\">\n                            <label className= \"text-Light\"> Email</label>\n                            <input\n                              className=\"form-control\"\n                              value={email}\n                              onChange={handleChange(\"email\")}\n                              type=\"text\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className= \"text-Light\"> password</label>\n                            <input\n                              className=\"form-control\"\n                              value={password}\n                              onChange={handleChange(\"password\")}\n                              type=\"password\"\n                            />\n                        </div>\n                        <button \n                        onClick={onSubmit}\n                        className=\"btn btn-success btn-block\">Submit</button>\n                    </form>\n                </div>\n\n            </div>\n        );\n    };\n\n\n    \n    return (\n        <Base title=\"Welcome to sign in page\"  description= \"Happiness is not in money , but in shopping!\" >\n            {loadingMessage()}\n            {signInForm()}\n\n            <p className= \"text-center\">\n                {JSON.stringify(values)}\n            </p>\n            {performRedirect()}\n\n        \n\n        </Base>\n    );\n};\n\nexport default Signin;\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { cartEmpty } from \"./helper/carthelper\";\nimport { getmeToken, processPayment } from \"./helper/paymenthelper\";\nimport { createOrder } from \"./helper/orderhelper\";\nimport { isAuthenticated, signout } from \"../auth/helper\";\n\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst PaymentB = ({\n  products,\n  reload = undefined,\n  setReload = (f) => f,\n}) => {\n  const [info, setInfo] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {},\n  });\n\n  const userId = isAuthenticated && isAuthenticated().user.id;\n  const token = isAuthenticated && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getmeToken(userId, token)\n      .then((info) => {\n        if (info.error) {\n          setInfo({\n            ...info,\n            error: info.error,\n          });\n          signout(() => {\n            return <Redirect to=\"/\" />;\n          });\n        } else {\n          const clientToken = info.clientToken;\n          setInfo({ clientToken });\n        }\n      });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n\n  const getAmount = () => {\n    let amount = 0;\n    products.map((p) => {\n      amount = amount + parseInt(p.price);\n    });\n    return amount;\n  };\n  const onPurchase = () => {\n    setInfo({ loading: true });\n    let nonce;\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\n      console.log(\"MYDATA\", data);\n      nonce = data.nonce;\n      const paymentData = {\n        paymentMethodNonce: nonce,\n        amount: getAmount(),\n      };\n      processPayment(userId, token, paymentData)\n        .then((response) => {\n          console.log(\"POINT-1\", response);\n          if (response.error) {\n            if (response.code == \"1\") {\n              console.log(\"PAYMENT Failed!\");\n              signout(() => {\n                return <Redirect to=\"/\" />;\n              });\n            }\n          } else {\n            setInfo({ ...info, success: response.success, loading: false });\n            console.log(\"PAYMENT SUCCESS\");\n\n            let product_names = \"\";\n            products.forEach(function (item) {\n              product_names += item.name + \", \";\n            });\n\n            const orderData = {\n              products: product_names,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n            };\n            createOrder(userId, token, orderData)\n              .then((response) => {\n                if (response.error) {\n                  if (response.code == \"1\") {\n                    console.log(\"Order Failed!\");\n                    signout(() => {\n                      return <Redirect to=\"/\" />;\n                    });\n                  }\n                } else {\n                  if (response.success == true) {\n                    console.log(\"ORDER PLACED!!\");\n                  }\n                }\n              })\n              .catch((error) => {\n                setInfo({ loading: false, success: false });\n                console.log(\"ORDER FAILED\", error);\n              });\n            cartEmpty(() => {\n              console.log(\"Did we got a crash?\");\n            });\n\n            setReload(!reload);\n          }\n        })\n        .catch((error) => {\n          setInfo({ loading: false, success: false });\n          console.log(\"PAYMENT FAILED\", error);\n        });\n    });\n  };\n\n  const showbtnDropIn = () => {\n    return (\n      <div>\n        {info.clientToken !== null && products.length > 0\n          ? (\n            <div>\n              <DropIn\n                options={{ authorization: info.clientToken }}\n                onInstance={(instance) => (info.instance = instance)}\n              >\n              </DropIn>\n              <button\n                onClick={onPurchase}\n                className=\"btn btn-block btn-success\"\n              >\n                Buy Now\n              </button>\n            </div>\n          )\n          : (\n            <h3>Please login first or add something in cart</h3>\n          )}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <h3>Your total amount is  ₹ {getAmount()}</h3>\n      {showbtnDropIn()}\n    </div>\n  );\n};\n\nexport default PaymentB;\n","import { API } from \"../../backend\";\n\nexport const getmeToken = (userId, token) => {\n  return fetch(`${API}payment/gettoken/${userId}/${token}/`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentInfo) => {\n  const formData = new FormData();\n\n  for (const name in paymentInfo) {\n    formData.append(name, paymentInfo[name]);\n  }\n\n  return fetch(`${API}payment/process/${userId}/${token}/`, {\n    method: \"POST\",\n    body: formData,\n  })\n    .then((response) => {\n      console.log(\"p-0\", response);\n      return response.json();\n    });\n  //.catch((err) => console.log(err));\n};\n","import {API} from \"../../backend\";\n\nexport const createOrder = (userId, token, orderData) => {\n    const formData = new FormData();\n\n    for(const name in orderData){\n        formData.append(name, orderData[name]);\n    }\n\n    return fetch(`${API}order/add/${userId}${token}/`, {\n        method: \"POST\",\n        body: formData,\n    })\n\n        .then((response) =>{\n            return response.json();\n        })\n        .catch((err) => console.log(err));\n};","import React, {useState, useEffect} from \"react\";\n\nimport Base from \"./Base\";\n\nimport Card from \"./Card\"\nimport {loadCart} from \"./helper/carthelper\"\nimport PaymentB from \"./PaymentB\";\nconst Cart= () => {\n    const [reload, setReload] = useState(false);\n\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        setProducts(loadCart());\n    }, [reload]);\n\n\n    const loadAllProducts = (products) => {\n        return(\n            <div>\n                {products.map((product, index)=> (\n                    <Card\n                    key={index}\n                    product={product}\n                    removeFromCart={true}\n                    addtoCart={false}\n                    reload={reload}\n                    setReload={setReload}\n                    />\n                ))}\n            </div>\n        )\n    }\n\n    const loadCheckout = () => {\n        return(\n            <div>\n                <h1>Checkout</h1>\n            </div>\n        )\n    }\n    return(\n        <Base title = \"Cart Page\" description= \"Welcome to Checkout\">\n            <div className=\"row text-center\">\n                <div className=\"col-6\">\n                    {products.length > 0 ? (loadAllProducts(products)) : \n                    (\n                        <h4>No Products</h4>\n                    )}\n                </div>\n                <div className= \"col-6\">\n                    {products.length > 0 ? \n                    (\n                        <PaymentB products = {products} setReload ={setReload}/>\n                    ):\n                    (\n                        <h3>Please login or add something in cart</h3>\n                    )}\n                </div>\n            </div>\n        </Base>\n    );\n};\n\nexport default  Cart;\n","import React from 'react'\nimport Base from '../core/Base'\n\nconst UserDashboard =() => {\n    return (\n        <Base title= \"User dashboard\">\n            <h1>Welcome to user Dashboard page</h1>\n        </Base>\n    );\n};\n\nexport default UserDashboard;","import React, {Component} from \"react\"\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\";\n\nimport PrivateRoutes from \"./auth/helper/PrivateRoutes\";\n\nimport Home from \"./core/Home\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport Cart from \"./core/Cart\";\n\n\nimport UserDashboard from \"./user/UserDashboard\";\n\n\nconst Routes =  () => {\n    return(\n        <BrowserRouter>\n        <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/signup\" exact component={Signup} />\n            <Route path=\"/signin\" exact component={Signin} />\n            <Route path=\"/cart\" exact component={Cart} />\n\n            <PrivateRoutes path =\"/user/dashboard\" exact component={UserDashboard} />\n           \n            \n        </Switch>\n        </BrowserRouter>\n    )\n};\n\nexport default Routes;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.0/8 are considered localhost for IPv4.\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n  );\n  \n  export function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener('load', () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Let's check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl, config);\n  \n          // Add some additional logging to localhost, pointing developers to the\n          // service worker/PWA documentation.\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://cra.link/PWA'\n            );\n          });\n        } else {\n          // Is not localhost. Just register service worker\n          registerValidSW(swUrl, config);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then((registration) => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                  'New content is available and will be used when all ' +\n                    'tabs for this page are closed. See https://cra.link/PWA.'\n                );\n  \n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n  \n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch((error) => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n      headers: { 'Service-Worker': 'script' },\n    })\n      .then((response) => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get('content-type');\n        if (\n          response.status === 404 ||\n          (contentType != null && contentType.indexOf('javascript') === -1)\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log('No internet connection found. App is running in offline mode.');\n      });\n  }\n  \n  export function unregister() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready\n        .then((registration) => {\n          registration.unregister();\n        })\n        .catch((error) => {\n          console.error(error.message);\n        });\n    }\n  }\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport Routes from \"./Routes\"\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(<Routes/>, document.getElementById(\"root\"));\n\nserviceWorkerRegistration.register();\n\n"],"sourceRoot":""}