(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{25:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(28),o=c.n(r),i=(c(25),c(6)),l=c(4),d=c(3),u=c(32),j=c(29),b="http://localhost:8000/api/",h=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},m=function(e){var t=h()&&h().user.id;if(console.log("USERID: ",t),void 0!==typeof window)return localStorage.removeItem("jwt"),function(e){void 0!=typeof window&&(localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify([])),e())}((function(){})),fetch("".concat(b,"user/logout/").concat(t),{method:"GET"}).then((function(t){console.log("Signout success"),e()})).catch((function(e){return console.log(e)}))},f=function(e){var t=e.component,c=Object(u.a)(e,["component"]);return Object(n.jsx)(l.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return h()?Object(n.jsx)(t,Object(d.a)({},e)):Object(n.jsx)(l.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},p=c(9),O=function(e,t){return e.location.pathname===t?{color:"#2ecc72"}:{color:"#FFFFFF"}},x=Object(l.g)((function(e){var t=e.history;e.path;return Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{className:"nav nav-labs bg-dark",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{style:O(t,"/"),className:"nav-link",to:"/",children:"Home"})}),h()&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{style:O(t,"/user/dashboard"),className:"nav-link",to:"/user/dashboard",children:"Dashboard"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{style:O(t,"/cart"),className:"nav-link",to:"/cart",children:"Cart"})}),!h()&&Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{style:O(t,"/signup"),className:"nav-link",to:"/signup",children:"Signup"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{style:O(t,"/signin"),className:"nav-link",to:"Signin/",children:"Signin"})})]}),Object(n.jsx)("li",{className:"search-container",children:Object(n.jsxs)("form",{id:"search-form",children:[Object(n.jsx)("label",{for:"site-search",children:"What are you looking for???"}),Object(n.jsx)("input",{type:"search ",id:"search-field",class:"search-field"}),Object(n.jsx)("button",{id:"search-button",class:"search-button",children:"Search"})]})}),h()&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("span",{onClick:function(){m((function(){t.push("/")}))},className:"nav-link text-warning",children:"Signout"})})]})})})),g=function(e){var t=e.title,c=void 0===t?"My Title":t,a=e.description,s=void 0===a?"My description":a,r=e.className,o=void 0===r?"bg-dark text-white p-4":r,i=e.children;return Object(n.jsxs)("div",{children:[Object(n.jsx)(x,{}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsxs)("div",{className:"jumbotron bg-dark text-white text-center",children:[Object(n.jsx)("h2",{className:"display-4",children:c}),Object(n.jsx)("p",{className:"lead",children:s})]}),Object(n.jsx)("div",{className:o,children:i})]}),Object(n.jsx)("footer",{className:"footer bg-dark mt-auto py-3",children:Object(n.jsxs)("div",{className:"container-fluid bg-success text-white text-center py-3",children:[Object(n.jsx)("h4",{children:"If you got any questions,reach me out at instagram"}),Object(n.jsx)("button",{className:"btn btn-warning btn-lg",children:"Contact Us"}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("span",{className:"text-warning",children:"Shopping is an art"})})]})})]})},v=function(e){var t=e.product,c=t?t.image:"https://www.globalblue.com/business/images/article926851.ece/BINARY/TFS_Article_2019_970x643.jpg";return Object(n.jsx)("div",{className:"rounded border border-success p-2",children:Object(n.jsx)("img",{src:c,style:{maxHeight:"100%",maxWidth:"100%"},className:"mb-3 rounded",alt:""})})},N=function(e){var t=e.product,c=e.addtoCart,s=void 0===c||c,r=e.removeFromCart,o=void 0!==r&&r,i=e.reload,u=void 0===i?void 0:i,j=e.setReload,b=void 0===j?function(e){return e}:j,m=Object(a.useState)(!1),f=Object(p.a)(m,2),O=f[0],x=f[1],g=t?t.name:"A photo from pexeles",N=t?t.description:"Default description",w=t?t.price:"Default price";return Object(n.jsxs)("div",{className:"card text-white bg-dark border border-info ",children:[Object(n.jsxs)("div",{className:"card-header lead",children:[" ",g]}),Object(n.jsxs)("div",{className:"card-body",children:[function(e){if(e)return Object(n.jsx)(l.a,{to:"/cart"})}(O),Object(n.jsx)(v,{product:t}),Object(n.jsx)("p",{className:"lead bg-success font-weight-normal text-wrap",children:N}),Object(n.jsxs)("p",{className:"btn btn-success rounded  btn-sm px-4",children:["\u20b9",w]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12",children:function(e){return s&&Object(n.jsx)("button",{onClick:e,className:"btn btn-block btn-outline-success mt-2 mb-2",children:"Add to Cart"})}((function(){h()?(!function(e,t){var c=[];void 0!=typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(d.a)({},e)),localStorage.setItem("cart",JSON.stringify(c)),t())}(t,(function(){return x(!0)})),console.log("Added to cart")):console.log("login Please!")}))}),Object(n.jsx)("div",{className:"col-12",children:function(e){return e&&Object(n.jsx)("button",{onClick:function(){!function(e){var t=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,n){c._id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)))}(t._id),b(!u),console.log("Product removed from cart")},className:"btn btn-block btn-outline-danger mt-2 mb-2",children:"Remove from cart"})}(o)})]})]})]})};function w(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!1),o=Object(p.a)(r,2),i=o[0],l=o[1],d=function(){fetch("".concat(b,"product"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?(l(e.error),console.log(i)):s(e)}))};return Object(a.useEffect)((function(){d()}),[]),Object(n.jsxs)(g,{title:"Welcome to K zone",description:"Treat yo' self",children:[Object(n.jsx)("h1",{}),Object(n.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(n.jsx)("div",{className:"col-3 mb-4",children:Object(n.jsx)(N,{product:e})},t)}))})]})}var y=c(13),S=function(){var e=Object(a.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(p.a)(e,2),c=t[0],s=t[1],r=c.name,o=c.email,l=c.password,u=c.error,j=c.success,h=function(e){return function(t){s(Object(d.a)(Object(d.a)({},c),{},Object(y.a)({error:!1},e,t.target.value)))}},m=function(e){var t;e.preventDefault(),s(Object(d.a)(Object(d.a)({},c),{},{error:!1})),(t={name:r,email:o,password:l},fetch("".concat(b,"user/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){console.log("DATA",e),e.email===o?s(Object(d.a)(Object(d.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0})):s(Object(d.a)(Object(d.a)({},c),{},{error:!0,success:!1}))})).catch((function(e){return console.log(e)}))};return Object(n.jsxs)(g,{title:"Sign Up Page",description:"A signup for K Zone users",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(n.jsxs)("div",{className:"alert alert-success",style:{display:j?" ":"none"},children:["New account created successfully.Please ",Object(n.jsx)(i.b,{to:"/signin",children:"login now."})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(n.jsx)("div",{className:"alert alert-danger",style:{display:u?" ":"none"},children:"Check all the fields again!"})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-5 offset-sm-3 text-left",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-Light",children:" Name"}),Object(n.jsx)("input",{className:"form-control",value:r,onChange:h("name"),type:"text"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-Light",children:" Email"}),Object(n.jsx)("input",{className:"form-control",value:o,onChange:h("email"),type:"text"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-Light",children:" password"}),Object(n.jsx)("input",{className:"form-control",value:l,onChange:h("password"),type:"password"})]}),Object(n.jsx)("button",{onClick:m,className:"btn btn-success btn-block",children:"Submit"})]})})}),Object(n.jsx)("p",{className:"text-white text-center",children:JSON.stringify(c)})]})},k=function(){var e=Object(a.useState)({name:"",email:"",password:"",error:"",success:!1,loading:!1,didRedirect:!1}),t=Object(p.a)(e,2),c=t[0],s=t[1],r=(c.name,c.email),o=c.password,i=(c.error,c.success,c.loading),u=(c.didRedirect,function(e){return function(t){s(Object(d.a)(Object(d.a)({},c),{},Object(y.a)({error:!1},e,t.target.value)))}}),m=function(e){e.preventDefault(),s(Object(d.a)(Object(d.a)({},c),{},{error:!1,loading:!0})),function(e){var t=new FormData;for(var c in e)console.log(e[c]),t.append(c,e[c]);var n,a=Object(j.a)(t.keys());try{for(a.s();!(n=a.n()).done;){var s=n.value;console.log("MYKEY: ",s)}}catch(r){a.e(r)}finally{a.f()}return fetch("".concat(b,"user/login/"),{method:"POST",body:t}).then((function(e){return console.log("SUCCESS",e),e.json()})).catch((function(e){return console.log(e)}))}({email:r,password:o}).then((function(e){console.log("DATA",e),e.token?function(e,t){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){console.log("TOKEN ADDED"),s(Object(d.a)(Object(d.a)({},c),{},{didRedirect:!0}))})):s(Object(d.a)(Object(d.a)({},c),{},{loading:!1}))})).catch((function(e){return console.log(e)}))};return Object(n.jsxs)(g,{title:"Welcome to sign in page",description:"Happiness is not in money , but in shopping!",children:[i&&Object(n.jsx)("div",{className:"alert alert-info",children:Object(n.jsx)("h2",{children:" Loading..."})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-5 offset-sm-3 text-left",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-Light",children:" Email"}),Object(n.jsx)("input",{className:"form-control",value:r,onChange:u("email"),type:"text"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-Light",children:" password"}),Object(n.jsx)("input",{className:"form-control",value:o,onChange:u("password"),type:"password"})]}),Object(n.jsx)("button",{onClick:m,className:"btn btn-success btn-block",children:"Submit"})]})})}),Object(n.jsx)("p",{className:"text-center",children:JSON.stringify(c)}),function(){if(h())return Object(n.jsx)(l.a,{to:"/"})}()]})},C=c(31),I=c(17),A=c(18),F=c(20),D=c(19),T=c(10),E=(s.a.Component,c(12)),P=c.n(E);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")}function J(e){if(!e)return e;var t,c=P.a.fns.cardType(e),n=W(e);switch(c){case"amex":t="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,15));break;case"dinersclub":t="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,14));break;default:t="".concat(n.slice(0,4)," ").concat(n.slice(4,8)," ").concat(n.slice(8,12)," ").concat(n.slice(12,19))}return t.trim()}function R(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W(e),a=4;if(c.number){var s=P.a.fns.cardType(c.number);a="amex"===s?4:3}return n.slice(0,a)}function L(e){var t=W(e);return t.length>=3?"".concat(t.slice(0,2),"/").concat(t.slice(2,4)):t}c(43);var U=function(e){Object(F.a)(c,e);var t=Object(D.a)(c);function c(){var e;Object(I.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={number:"",name:"",expiry:"",cvc:"",issuer:"",focused:"",formData:null},e.handleCallback=function(t,c){var n=t.issuer;c&&e.setState({issuer:n})},e.handleInputFocus=function(t){var c=t.target;e.setState({focused:c.name})},e.handleInputChange=function(t){var c=t.target;"number"===c.name?c.value=J(c.value):"expiry"===c.name?c.value=L(c.value):"cvc"===c.name&&(c.value=R(c.value)),e.setState(Object(y.a)({},c.name,c.value))},e.handleSubmit=function(t){t.preventDefault();e.state.issuer;var c=Object(C.a)(t.target.elements).filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t.value,e}),{});e.setState({formData:c}),e.form.reset()},e}return Object(A.a)(c,[{key:"render",value:function(){var e,t=this,c=this.state,a=c.name,s=c.number,r=c.expiry,o=c.cvc,i=c.focused,l=c.issuer,d=c.formData;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"App-payment",children:[Object(n.jsx)("h1",{children:"Pay Your Bill"}),Object(n.jsx)(T.a,{number:s,name:a,expiry:r,cvc:o,focused:i,callback:this.handleCallback}),Object(n.jsxs)("form",{ref:function(e){return t.form=e},onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"tel",name:"number",className:"form-control",placeholder:"Card Number",pattern:"[\\d| ]{16,22}",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Name",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)("input",{type:"tel",name:"expiry",className:"form-control",placeholder:"Valid Thru",pattern:"\\d\\d/\\d\\d",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus})}),Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)("input",{type:"tel",name:"cvc",className:"form-control",placeholder:"CVC",pattern:"\\d{3,4}",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus})})]}),Object(n.jsx)("input",{type:"hidden",name:"issuer",value:l}),Object(n.jsx)("div",{className:"form-actions",children:Object(n.jsx)("button",{className:"btn btn-primary btn-block",children:"PAY"})})]}),d&&Object(n.jsx)("div",{className:"App-highlight",children:(e=d,Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t])}))).map((function(e,t){return Object(n.jsx)("div",{children:e},t)}))}),Object(n.jsx)("hr",{style:{margin:"60px 0 30px"}}),Object(n.jsx)("div",{className:"App-badges"})]})},"Payment")}}]),c}(s.a.Component),q=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)([]),o=Object(p.a)(r,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(function(){if(void 0!==typeof window)return JSON.parse(localStorage.getItem("cart"))}())}),[c]);return Object(n.jsx)(g,{title:"Cart Page",description:"Welcome to Checkout",children:Object(n.jsxs)("div",{className:"row text-center",children:[Object(n.jsx)("div",{className:"col-6",children:i.length>0?function(e){return Object(n.jsx)("div",{children:e.map((function(e,t){return Object(n.jsx)(N,{product:e,removeFromCart:!0,addtoCart:!1,reload:c,setReload:s},t)}))})}(i):Object(n.jsx)("h4",{children:"No Products"})}),Object(n.jsx)("div",{className:"col-6",children:i.length>0?Object(n.jsx)(U,{products:i,setReload:s}):Object(n.jsx)("h3",{children:"Please login or add something in cart"})})]})})},Y=function(){return Object(n.jsx)(g,{title:"User dashboard",children:Object(n.jsx)("h1",{children:"Welcome to user Dashboard page"})})},_=function(){return Object(n.jsx)(i.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/",exact:!0,component:w}),Object(n.jsx)(l.b,{path:"/signup",exact:!0,component:S}),Object(n.jsx)(l.b,{path:"/signin",exact:!0,component:k}),Object(n.jsx)(l.b,{path:"/cart",exact:!0,component:q}),Object(n.jsx)(f,{path:"/user/dashboard",exact:!0,component:Y})]})})},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(n.jsx)(_,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var n=c.headers.get("content-type");404===c.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):K(t,e)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.93d939e9.chunk.js.map